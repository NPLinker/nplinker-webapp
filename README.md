# NPLinker Web Application

This is the [NPLinker](https://nplinker.github.io/nplinker/latest/) web application, developed with [Plotly Dash](https://dash.plotly.com/), which enables you to visualize NPLinker predictions in an interactive way.

<p align="center">
  <img src="app/assets/dash1.png" width="600" alt="Dashboard Screenshot 1">
</p>

<p align="center">
  <img src="app/assets/dash2.png" width="600" alt="Dashboard Screenshot 2">
</p>

<p align="center">
  <img src="app/assets/dash3.png" width="600" alt="Dashboard Screenshot 3">
</p>


NPLinker is a Python framework for data mining microbial natural products by integrating genomics and metabolomics data.

For a deep understanding of NPLinker, please refer to the [original paper](https://journals.plos.org/ploscompbiol/article?id=10.1371/journal.pcbi.1008920).

## Workshop Installation Guide

Follow these steps to set up the NPLinker dashboard on your local machine:

### Prerequisites

- [Python 3.10 or higher](https://www.python.org/downloads/)
- [Git](https://git-scm.com/downloads)

### Setup Instructions
   
```bash
# Clone the repository
git clone https://github.com/NPLinker/nplinker-webapp.git

# Navigate to the project directory
cd nplinker-webapp

# Create and activate a virtual environment
python -m venv venv

## For Windows:
venv\Scripts\activate
## For macOS/Linux:
source venv/bin/activate

# Install the required packages
pip install -r requirements.txt
```

### Running the Dashboard

After installation, start the application:

```bash
# Make sure you're in the nplinker-webapp directory
python app/main.py
```

Open your web browser and go to `http://127.0.0.1:8050/`.

### Troubleshooting

Common issues and solutions:

- **Port already in use**: If port 8050 is already in use, modify the port in `app/main.py` by changing `app.run_server(debug=True, port=8050)`
- **Package installation errors**: Make sure you're using a compatible Python version and that your pip is up-to-date

If you encounter other problems, please check the [Issues](https://github.com/NPLinker/nplinker-webapp/issues) page or create a new issue.

## Docker Support

You can run NPLinker Web Application using Docker:

```bash
# Pull the image from GitHub Packages
docker pull ghcr.io/nplinker/nplinker-webapp:latest

# Run the container
docker run -p 8050:8050 ghcr.io/nplinker/nplinker-webapp:latest
```

Then open your web browser and go to `http://0.0.0.0:8050/` to access the application.

The web interface allows you to upload your NPLinker data directly through the browser. For testing purposes, you can use the sample dataset provided in the repository (`tests/data/mock_obj_data.pkl`).

> **Note**: The application running in Docker might be slower than running it directly on your machine, depending on your Docker resource allocation settings. If you experience performance issues, consider increasing Docker's CPU and memory limits in your Docker Desktop settings, or run the application directly as described in the [Setup Instructions](#setup-instructions) section.

### Available Tags

- `latest`: The most recent build
- Specific version tags are also available based on GitHub releases

For more details about the Docker image, see its [GitHub Container Registry page](https://github.com/NPLinker/nplinker-webapp/pkgs/container/nplinker-webapp).

## Input Data

The dashboard accepts data generated by NPLinker and saved as described in the [NPLinker quickstart section](https://nplinker.github.io/nplinker/latest/quickstart/). For testing purposes, a small sample dataset is provided in [`tests/data/mock_obj_data.pkl`](https://github.com/NPLinker/nplinker-webapp/blob/main/tests/data/mock_obj_data.pkl) that can be used to try out the webapp.

Please note that links between genomic and metabolomic data must currently be computed using the NPLinker API separately, as this functionality is not yet implemented in the webapp (see [issue #19](https://github.com/NPLinker/nplinker-webapp/issues/19)). If no links are present in your data, the scoring table will be disabled.

## Contributing

If you want to contribute to the development of NPLinker, have a look at the [contribution guidelines](CONTRIBUTING.md) and [README for developers](README.dev.md).
